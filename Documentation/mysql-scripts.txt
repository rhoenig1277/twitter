--This setups up the sproc to put the tweets and counts into the database
USE `mysqldatabase28603`;
DROP procedure IF EXISTS `putTweetSearch`;

DELIMITER $$
USE `mysqldatabase28603`$$
CREATE DEFINER=`mysqldbuser`@`%` PROCEDURE `putTweetSearch`(IN tweetID varchar(255),IN searchTerm1 varchar(255),IN searchTerm1Count int,IN searchTerm2 varchar(255),IN searchTerm2Count int)
BEGIN
    Insert into twittercount
    (id,searchTerm1,searchTerm1Count,searchTerm2,searchTerm2Count,create_date) 
    VALUES (tweetID, searchTerm1, searchTerm1Count, searchTerm2, searchTerm2Count, CURDATE());
END$$

DELIMITER ;

--This setups up the sproc to Get the Historical Tweets
USE `mysqldatabase28603`;
DROP procedure IF EXISTS `getTweetCount`;

DELIMITER $$
USE `mysqldatabase28603`$$
CREATE DEFINER=`mysqldbuser`@`%` PROCEDURE `getTweetCount`()
BEGIN
SELECT * FROM twittercount order by create_date desc;
END$$

DELIMITER ;

--This will create the table needed to store the tweets
CREATE TABLE `twittercount` (
  `id` varchar(255) NOT NULL,
  `searchTerm1` varchar(255) DEFAULT NULL,
  `searchTerm1Count` int(11) DEFAULT NULL,
  `searchTerm2` varchar(255) DEFAULT NULL,
  `searchTerm2Count` int(11) DEFAULT NULL,
  `create_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

